# In all environments, the following files are loaded if they exist,
# the latter taking precedence over the former:
#
#  * .env                contains default values for the environment variables needed by the app
#  * .env.local          uncommitted file with local overrides
#  * .env.$APP_ENV       committed environment-specific defaults
#  * .env.$APP_ENV.local uncommitted environment-specific overrides
#
# Real environment variables win over .env files.
#
# DO NOT DEFINE PRODUCTION SECRETS IN THIS FILE NOR IN ANY OTHER COMMITTED FILES.
# https://symfony.com/doc/current/configuration/secrets.html
#
# Run "composer dump-env prod" to compile .env files for production use (requires symfony/flex >=1.2).
# https://symfony.com/doc/current/best_practices.html#use-environment-variables-for-infrastructure-configuration

###> symfony/framework-bundle ###
APP_ENV=dev
APP_SECRET=
APP_DEBUG=true
###< symfony/framework-bundle ###
CORS_ALLOW_ORIGIN=*
###> symfony/routing ###
# Configure how to generate URLs in non-HTTP contexts, such as CLI commands.
# See https://symfony.com/doc/current/routing.html#generating-urls-in-commands
DEFAULT_URI=https://127.0.0.1:8000
###< symfony/routing ###

###> doctrine/doctrine-bundle ###
# Format described at https://www.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/configuration.html#connecting-using-a-url
# IMPORTANT: You MUST configure your server version, either here or in the DATABASE_URL env var (see .env file)
#
# DATABASE_URL="sqlite:///%kernel.project_dir%/var/data_%kernel.environment%.db"
# DATABASE_URL="mysql://app:!ChangeMe!@127.0.0.1:3306/app?serverVersion=8.0.32&charset=utf8mb4"
# DATABASE_URL="mysql://app:!ChangeMe!@127.0.0.1:3306/app?serverVersion=10.11.2-MariaDB&charset=utf8mb4"
#DATABASE_URL="postgresql://app:!ChangeMe!@127.0.0.1:5432/app?serverVersion=16&charset=utf8"

# # Default database connection
DATABASE_URL="mysql://root:qwe147258..@127.0.0.1:3306/official_website?serverVersion=8.0&charset=utf8"

# # User database connection
USER_DATABASE_URL="mysql://root:qwe147258..@127.0.0.1:3306/official_website_user?serverVersion=8.0&charset=utf8"

###< doctrine/doctrine-bundle ###

###> lexik/jwt-authentication-bundle ###
JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/private.pem
JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/public.pem
JWT_PASSPHRASE=fd6f257156005d7e4a68b6bb47f74336dadb01f5b2d49ea61bd0a80bfe18c4be
###< lexik/jwt-authentication-bundle ###

###> symfony/messenger ###
# Redis connection for message queue
MESSENGER_TRANSPORT_DSN=redis://localhost:6379/messages

# Async task queue configuration
ASYNC_TASK_QUEUE_NAME=async_tasks
ASYNC_TASK_RETRY_DELAY=60
ASYNC_TASK_MAX_RETRIES=3
ASYNC_TASK_MEMORY_LIMIT=512M
ASYNC_TASK_TIMEOUT=300

# Queue worker configuration
QUEUE_WORKER_SLEEP=1
QUEUE_WORKER_MAX_MEMORY=512M
QUEUE_WORKER_MAX_RUNTIME=3600
###< symfony/messenger ###

###> async task queue ###
# Redis configuration for async tasks
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Task processing configuration
TASK_BATCH_SIZE=100
TASK_CLEANUP_DAYS=30
TASK_DEPENDENCY_CHECK_INTERVAL=60
TASK_PROGRESS_UPDATE_INTERVAL=10
###< async task queue ###


###> 华为云OBS配置示例 ###
# 华为云对象存储服务配置，用于微信图片资源的存储和CDN加速
# 注意：以下为配置示例，请根据实际情况填写具体值

# OBS访问密钥（从华为云控制台获取）
OBS_ACCESS_KEY_ID=
OBS_SECRET_ACCESS_KEY=

# OBS存储桶配置
OBS_BUCKET_NAME=
OBS_ENDPOINT=  # 例如: obs.cn-north-4.myhuaweicloud.com

# OBS区域配置
OBS_REGION=  # 例如: cn-north-4

# OBS CDN域名配置（可选，如果配置了CDN加速）
OBS_CDN_DOMAIN=  # 例如: cdn.example.com

# OBS文件访问权限
OBS_FILE_ACL=public-read  # public-read, private, public-read-write

# OBS存储路径前缀
OBS_PATH_PREFIX=wechat-media/

# OBS URL过期时间（秒）
OBS_URL_EXPIRE=3600

# 是否启用OBS（true/false）
OBS_ENABLED=false

# OBS临时文件目录
OBS_TEMP_DIR=/tmp/obs_uploads/

# OBS最大文件大小（字节）
OBS_MAX_FILE_SIZE=10485760  # 10MB

# OBS支持的文件类型
OBS_ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,webp,bmp,mp4,avi,mov,wmv

# OBS上传超时时间（秒）
OBS_UPLOAD_TIMEOUT=300

# OBS下载超时时间（秒）
OBS_DOWNLOAD_TIMEOUT=60

# OBS重试次数
OBS_RETRY_COUNT=3

# OBS重试间隔（秒）
OBS_RETRY_DELAY=5
###< 华为云OBS配置示例 ###

###> 阿里云OSS配置示例 ###
# 阿里云对象存储服务配置（备选方案）
# 注意：以下为配置示例，请根据实际情况填写具体值

# OSS访问密钥
OSS_ACCESS_KEY_ID=
OSS_ACCESS_KEY_SECRET=

# OSS存储桶配置
OSS_BUCKET=
OSS_ENDPOINT=  # 例如: oss-cn-hangzhou.aliyuncs.com

# OSS区域
OSS_REGION=  # 例如: cn-hangzhou

# OSS CDN域名
OSS_CDN_DOMAIN=

# OSS存储路径前缀
OSS_PATH_PREFIX=wechat-media/

# 是否启用OSS
OSS_ENABLED=false
###< 阿里云OSS配置示例 ###

###> 腾讯云COS配置示例 ###
# 腾讯云对象存储服务配置（备选方案）
# 注意：以下为配置示例，请根据实际情况填写具体值

# COS访问密钥
COS_SECRET_ID=
COS_SECRET_KEY=

# COS存储桶配置
COS_BUCKET=
COS_REGION=  # 例如: ap-guangzhou
COS_DOMAIN=  # 例如: cos.ap-guangzhou.myqcloud.com

# COS存储路径前缀
COS_PATH_PREFIX=wechat-media/

# 是否启用COS
COS_ENABLED=false
###< 腾讯云COS配置示例 ###
